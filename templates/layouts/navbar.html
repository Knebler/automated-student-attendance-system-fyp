<nav class="navbar-custom">
    <a class="navbar-brand-custom" href="{{ url_for('main.home') }}">AttendAI</a>
    
    <button class="navbar-toggler-custom" onclick="toggleMobileMenu()">
        â˜°
    </button>
    
    <ul class="nav-links-custom" id="mobileMenu">
        {% if session.user %}
            <!-- Public links for logged-in users (not our current design) -->
             <!--
            <li><a class="nav-link-custom" href="{{ url_for('main.home') }}">Home</a></li>
            <li><a class="nav-link-custom" href="{{ url_for('main.features') }}">Features</a></li>
            <li><a class="nav-link-custom" href="{{ url_for('main.about') }}">About Us</a></li>
            -->
            <!-- Role-based dashboard link -->
            {% set user_role = session.user.user_type if session.user.user_type else None %}
            
            {% if user_role in ['platform_manager','platform','platmanager'] %}
                <!-- TODO: Implement proper routing for these sub pages -->
                <li><a class="nav-link-custom" href="{{ url_for('platform.platform_dashboard') }}">Dashboard</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('platform.platform_dashboard') }}">Users</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('platform.platform_dashboard') }}">Institutions/Subscriptions</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('platform.platform_dashboard') }}">Reports</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('platform.platform_dashboard') }}">Performance</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('platform.platform_dashboard') }}">Settings</a></li>
            {% elif user_role in ['institution_admin','admin'] %}
                <li><a class="nav-link-custom" href="{{ url_for('institution.institution_dashboard') }}">Dashboard</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('institution.manage_attendance') }}">Manage Attendance</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('institution.manage_users') }}">Manage Users</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('institution.manage_classes') }}">Manage Classes</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('institution.import_data') }}">Import Data</a></li>
            {% elif user_role in ['lecturer','teacher'] %}
                <!-- TODO: Implement proper routing for these sub pages -->
                <li><a class="nav-link-custom" href="{{ url_for('institution_lecturer.lecturer_dashboard') }}">Dashboard</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('institution_lecturer.lecturer_dashboard') }}">View Timetable</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('institution_lecturer.lecturer_dashboard') }}">Manage Attendance</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('institution_lecturer.lecturer_dashboard') }}">Manage Classes/Rosters</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('institution_lecturer.manage_appeals') }}">Manage Appeals</a></li>
            {% else %} <!-- Student Routing -->
                <!-- TODO: Implement proper routing for these sub pages -->
                <li><a class="nav-link-custom" href="{{ url_for('student.dashboard') }}">Dashboard</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('student.dashboard') }}">View My Attendance</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('student.dashboard') }}">Class Check-In</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('student.dashboard') }}">View Inbox</a></li>
                <li><a class="nav-link-custom" href="{{ url_for('student.dashboard') }}">Attendance Appeal</a></li>
            {% endif %}
            
            <li><a class="nav-link-custom" href="{{ url_for('auth.profile') }}">Profile</a></li>
            <li><a class="nav-link-custom" href="{{ url_for('auth.logout') }}">Logout</a></li>
        {% else %}
            <!-- Public navigation -->
            <li><a class="nav-link-custom" href="{{ url_for('main.features') }}">Features</a></li>
            <li><a class="nav-link-custom" href="{{ url_for('main.about') }}">About</a></li>
            <li><a class="nav-link-custom" href="{{ url_for('main.subscriptions') }}">Subscription</a></li>
            <li><a class="nav-link-custom" href="{{ url_for('main.testimonials') }}">Testimonials</a></li>
            <li><a class="nav-link-custom" href="{{ url_for('main.faq') }}">FAQ</a></li>
            
            <!-- Auth links -->
            <li><a class="nav-link-custom" href="{{ url_for('auth.login') }}">Login</a></li>
            <li><a class="nav-link-custom" href="{{ url_for('auth.register') }}">Register</a></li>
        {% endif %}
    </ul>
</nav>